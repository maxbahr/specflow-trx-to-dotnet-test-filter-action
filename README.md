# Specflow Trx to Dotnet Filter Tests

**Author:** Maksymilian Bahr <maks.bahr@gmail.com>

Parse specflow dotnet trx files and prepare dotnet filter string to use in `dotnet test --filter "{testFilter}"`

## Description

This GitHub Action parses SpecFlow dotnet trx files and prepare dotnet filter string

## Inputs

- **trxDirPath**:

  - _Description:_ Specifies the directory path where your test result files (.trx files) are located. Test result files
    are typically generated by dotnet testing frameworks.
  - _Required:_ No
  - _Default:_ '.'

- **testOutcome**:

  - _Description:_ Define the expected test outcome to filter and exclude tests with matching results. (Passed | Failed
    | Ignored)
  - _Required:_ No
  - _Default:_ 'Failed'

## Output

- **testFilter**:

  - _Description:_ Use testFilter output with the command: dotnet test --filter "{testFilter}"

## Usage

```yaml
name: Prepare Dotnet Filter Tests String

on: [push, pull_request]

jobs:
  generate-report:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Run Specflow Trx to Dotnet Filter Tests
        id: trx-action
        uses: maxbahr/specflow-trx-to-dotnet-filter-tests-action@v1.x.x
        with:
          trxDirPath: './path/to/trx/files'
          testOutcome: 'Failed'

      - name: Print Output of Failed Tests Filter
        id: output
        run: echo "${{ steps.trx-action.outputs.testFilter }}"

      - name: ReRun Failed Spec Flow Tests
        run: dotnet test --filter "${{ steps.trx-action.outputs.testFilter }}"
```
